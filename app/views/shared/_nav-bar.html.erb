<nav class="navbar navbar-expand-lg bg-primary navbar-dark">

  <div class="container-fluid">

    <% if @group_show_page || current_page?(new_user_session_path) || current_page?(new_user_registration_path) %>
      <h1><%= link_to "◁", :back, class:'link-light' %></h1>
    <% else %>
      <div class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon">    </span>
      </div>
    <% end %>

    <div class="nav-item d-flex align-items-md-center">
      <% if @user_page %>
        <h3 class='text-white'>Index</h3>

      <% elsif @group_page %>
        <h3 class='text-white'>Categories</h3>

      <% elsif @group_show_page %>
        <h3 class='text-white'>Details</h3>

      <% elsif @movement_page %>
        <h3 class='text-white'>Movements</h3>

      <% else %>

        <% if current_page?(new_user_registration_path) %>
          <h3 class='text-white'>REGISTER</h3>

        <% elsif current_page?(new_user_session_path) %>
          <h3 class='text-white'>LOGIN</h3>

       <% end %>
      
      <% end %>
    </div>

    <% if current_page?(new_user_session_path) %>
      <%= link_to 'Log in', new_user_session_path, class: 'link-light' %>
    <% elsif current_page?(new_user_registration_path) %>
      <%= link_to 'Next', new_user_session_path, class: 'link-light' %>
    <% end %>

    <% if user_signed_in? %>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <div class= "navbar-brand mx-0">
          <h4 class="text-white mx-0">Welcome <%= current_user.name %></h4>
        </div>

        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
          </li>
          <li class="nav-item">
          </li>
          <li class="nav-item">
          </li>
        </ul>

        <ul class="d-flex navbar-nav mb-lg-0">

          <li class="nav-item">
          </li>

          <li class="nav-item">
            <%= link_to "Log Out", destroy_user_session_path, method: :delete, class:"nav-link"%>
          </li>

        </ul>

      </div>

    <% else %>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <ul class="d-flex navbar-nav mb-2 mb-lg-0">
            <li class="nav-item">
              <%= link_to "Log In", new_user_session_path, class:"nav-link"%>
            </li>
            <li class="nav-item">
              <%= link_to "Sign Up", new_user_registration_path, class:"nav-link"%>
            </li>
        </ul>

      </div>

    <% end %>
  </div>

  <div class="collapse navbar-collapse" id="navbarsearch">
    <form class="d-flex" role="search">
      <input class="form-control mx-3" type="search" placeholder="Search here" aria-label="Search">
    </form>
  </div>
</nav>